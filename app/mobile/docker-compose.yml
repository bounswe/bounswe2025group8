version: '3.8'

# Docker Compose file for building Android APK
# Usage: docker-compose build mobile-build
# Note: This is provided as an alternative to the build.sh script
# The build.sh script is recommended for easier APK extraction

services:
  mobile-build:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        BUILD_TYPE: ${BUILD_TYPE:-debug}
        API_HOST: ${API_HOST:-localhost}
        API_PORT: ${API_PORT:-8000}
        PRODUCTION_API_URL: ${PRODUCTION_API_URL:-}
    image: mobile-build:latest
    # Note: To extract the APK, use:
    # docker create --name temp-container mobile-build:latest
    # docker cp temp-container:/app/android/app/build/outputs/apk/debug/app-debug.apk ./build/outputs/apk/
    # docker rm temp-container

